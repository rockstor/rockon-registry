{
  "Immich": {
    "description": "Immich is a high-performance self-hosted photo and video backup solution with official mobile apps and 3rd-party smart TV apps. <a href='https://rockstor.com/docs/interface/docker-based-rock-ons/immich.html' target='_blank'>Rock-on guide</a>.<p><b>Note:</b> included optional features may rely on online services with account requirements. These services are transparently listed and configurable during initial setup.</p> <p>Includes multiple custom OCI images: <a href='https://github.com/immich-app/immich/pkgs/container/immich-machine-learning' target='_blank'>Immich machine-learning server</a>, <a href='https://hub.docker.com/r/valkey/valkey' target='_blank'>Valkey</a>, and <a href='https://github.com/immich-app/base-images/pkgs/container/postgres' target='_blank'>Postgres</a>.</p><p>Based on the <a href='https://github.com/immich-app/immich/pkgs/container/immich-server' target='_blank'>official OCI image</a>, available for amd64 and arm64 architecture.</p>",
    "version": "1.0",
    "website": "https://immich.app",
    "icon": "https://immich.app/img/logomark-light.svg",
    "volume_add_support": true,
    "container_links": {
      "immich-server": [
        {
          "name": "ImmichToRedis",
          "source_container": "immich-redis"
        },
        {
          "name": "ImmichToDatabase",
          "source_container": "immich-database"
        },
        {
          "name": "ImmichToMachineLearning",
          "source_container": "immich-machine-learning"
        }
      ]
    },
    "containers": {
      "immich-database": {
        "image": "ghcr.io/immich-app/postgres",
        "tag": "14-vectorchord0.4.3-pgvectors0.2.0",
        "launch_order": 1,
        "volumes": {
          "/var/lib/postgresql/data": {
            "description": "Choose a Database Share for Immich.",
            "label": "Database Share [e.g. immich-db]"
          }
        },
        "opts": [
          [
            "--shm-size",
            "128mb"
          ],
          [
            "-e",
            "POSTGRES_USER=postgres"
          ],
          [
            "-e",
            "POSTGRES_PASSWORD=postgres"
          ],
          [
            "-e",
            "POSTGRES_DB=immich"
          ],
          [
            "-e",
            "POSTGRES_INITDB_ARGS=--data-checksums"
          ],
          [
            "-e",
            "DB_STORAGE_TYPE=HDD"
          ]
        ]
      },
      "immich-redis": {
        "image": "valkey/valkey",
        "tag": "8-bookworm",
        "launch_order": 2,
        "opts": [
          [
            "-e",
            "REDIS_HOSTNAME=immich-redis"
          ]
        ]
      },
      "immich-machine-learning": {
        "image": "ghcr.io/immich-app/immich-machine-learning",
        "tag": "release",
        "launch_order": 3,
        "volumes": {
          "/cache": {
            "description": "Choose a Cache Share for the machine-learning models.",
            "label": "Cache Share [e.g. immich-cache]"
          }
        },
        "opts": [
          [
            "-e",
            "DB_USERNAME=postgres"
          ],
          [
            "-e",
            "DB_PASSWORD=postgres"
          ],
          [
            "-e",
            "DB_DATABASE_NAME=immich"
          ],
          [
            "-e",
            "DB_HOSTNAME=immich-database"
          ]
        ]
      },
      "immich-server": {
        "image": "ghcr.io/immich-app/immich-server",
        "tag": "release",
        "launch_order": 4,
        "ports": {
          "2283": {
            "description": "Immich API/Server port.",
            "label": "Web interface port [e.g. 2283]",
            "host_default": 2283,
            "protocol": "tcp",
            "ui": true
          }
        },
        "environment": {
          "IMMICH_LOG_LEVEL": {
            "description": "Log level (verbose, debug, log, warn, error).",
            "label": "Log level [e.g. log]"
          },
          "IMMICH_IGNORE_MOUNT_CHECK_ERRORS": {
            "description": "When Immich starts, it checks if it can read and write to the storage volume mounts. Set to true to disable checks.",
            "label": "Ignore error checks [e.g. false]"
          }
        },
        "volumes": {
          "/data": {
            "description": "Choose a Library Share, where Immich stores uploaded photos/videos.",
            "label": "Library Share [e.g. immich-library]"
          }
        },
        "opts": [
          [
            "-e",
            "REDIS_HOSTNAME=immich-redis"
          ],
          [
            "-e",
            "DB_HOSTNAME=immich-database"
          ]
        ]
      }
    }
  }
}
